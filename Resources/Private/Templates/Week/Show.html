{namespace ubl=LeipzigUniversityLibrary\ubleipzigbooking\ViewHelpers}
<f:layout name="Default"/>
<f:section name="main">
    <f:flashMessages renderMode="div"/>
    <f:for each="{Rooms}" as="Room">
        <div class="calendarWeek">
            <div class="roomDescription">{Room.name} was:objectName => now:roomDescription</div>
            <div class="legend">
                <span class="offDutyHour"><f:translate key="off">Off duty</f:translate></span>
                <span class="bookedHour"><f:translate key="foreignbooked">Foreign booked hour</f:translate></span>
                <span class="ownBookedHour"><f:translate key="ownbooked">Own booked hour</f:translate></span>
                <span class="availableHour"><f:translate key="free">Free</f:translate></span>
            </div>

            <div class="weekNavigation">
                <f:if condition="{previousWeek}">
                    <f:link.action title="{f:translate(key:'previousweek')}" class="transparent tiny" action="show"
                                   controller="Week" arguments="{week: previousWeek}">
                        <i class="fa fa-chevron-left" aria-hidden="true"></i>
                    </f:link.action>
                </f:if>
                <span class="calendarWeek">
                    <f:translate key="calendarweek">Calendarweek</f:translate>
                    <ubl:date format="W/Y" object="{Room.week}"/>
                </span>
                <f:if condition="{nextWeek}">
                    <f:link.action class="transparent tiny" action="show" controller="Week"
                                   arguments="{week: nextWeek}">
                        <i class="fa fa-chevron-right" aria-hidden="true"></i>
                    </f:link.action>
                </f:if>
            </div>
            <div class="weekView ">
                <f:for each="{Room.week}" as="Day">
                    <f:if condition="{Day.dateTime.timestamp} == {today.timestamp}">
                        <div class="weekViewDay small-1 columns today end">
                            <f:render partial="DayTable" arguments="{Room: Room, Day: Day}"/>
                        </div>
                    </f:if>
                    <f:if condition="{Day.dateTime.timestamp} < {today.timestamp}">
                        <div class="weekViewDay small-1 columns pastDay end">
                            <f:render partial="DayTable" arguments="{Room: Room, Day: Day}"/>
                        </div>
                    </f:if>
                    <f:if condition="{Day.dateTime.timestamp} > {today.timestamp}">
                        <div class="weekViewDay small-1 columns end">
                            <f:render partial="DayTable" arguments="{Room: Room, Day: Day}"/>
                        </div>
                    </f:if>
                </f:for>
            </div>
        </div>
    </f:for>
</f:section>